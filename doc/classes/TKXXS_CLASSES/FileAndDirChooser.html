<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>TKXXS_CLASSES::FileAndDirChooser</title>
    <meta content='text/html; charset=CP850' http-equiv='Content-Type'>
    <link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>class</span>
          TKXXS_CLASSES::FileAndDirChooser
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../files/lib/tkxxs/tkxxs_classes_rb.html">lib/tkxxs/tkxxs_classes.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../TKXXS_CLASSES.html">TKXXS_CLASSES</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'></div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Class</h3>
            <ol>
              <li><a target="docwin" href="#method-c-new">new</a></li>
            </ol>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-add2favorites_dirs_chk">add2favorites_dirs_chk</a></li>
              <li><a target="docwin" href="#method-i-add2favorites_files_chk">add2favorites_files_chk</a></li>
              <li><a target="docwin" href="#method-i-answer">answer</a></li>
              <li><a target="docwin" href="#method-i-browse_btn">browse_btn</a></li>
              <li><a target="docwin" href="#method-i-cancel_btn">cancel_btn</a></li>
              <li><a target="docwin" href="#attribute-i-dialog">dialog</a></li>
              <li><a target="docwin" href="#method-i-entry">entry</a></li>
              <li><a target="docwin" href="#method-i-fav_dirs">fav_dirs</a></li>
              <li><a target="docwin" href="#method-i-fav_dirs_chk_changed">fav_dirs_chk_changed</a></li>
              <li><a target="docwin" href="#method-i-fav_files">fav_files</a></li>
              <li><a target="docwin" href="#method-i-fav_files_chk_changed">fav_files_chk_changed</a></li>
              <li><a target="docwin" href="#method-i-favorite_chk_label">favorite_chk_label</a></li>
              <li><a target="docwin" href="#method-i-favorite_dirs_btn">favorite_dirs_btn</a></li>
              <li><a target="docwin" href="#method-i-favorite_files_btn">favorite_files_btn</a></li>
              <li><a target="docwin" href="#method-i-favorite_lbl">favorite_lbl</a></li>
              <li><a target="docwin" href="#method-i-favorites_and_recent">favorites_and_recent</a></li>
              <li><a target="docwin" href="#method-i-ok_btn">ok_btn</a></li>
              <li><a target="docwin" href="#method-i-paste_btn">paste_btn</a></li>
              <li><a target="docwin" href="#method-i-paste_lbl">paste_lbl</a></li>
              <li><a target="docwin" href="#method-i-question_lbl">question_lbl</a></li>
              <li><a target="docwin" href="#method-i-recent_dirs">recent_dirs</a></li>
              <li><a target="docwin" href="#method-i-recent_dirs_btn">recent_dirs_btn</a></li>
              <li><a target="docwin" href="#method-i-recent_files">recent_files</a></li>
              <li><a target="docwin" href="#method-i-recent_files_btn">recent_files_btn</a></li>
              <li><a target="docwin" href="#method-i-recent_lbl">recent_lbl</a></li>
              <li><a target="docwin" href="#method-i-set_paths">set_paths</a></li>
              <li><a target="docwin" href="#method-i-text2">text2</a></li>
              <li><a target="docwin" href="#method-i-tks_result_to_ary">tks_result_to_ary</a></li>
              <li><a target="docwin" href="#method-i-use_entry">use_entry</a></li>
              <li><a target="docwin" href="#method-i-validate_and_leave">validate_and_leave</a></li>
              <li><a target="docwin" href="#method-i-validate_and_set_path">validate_and_set_path</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li>Tk::Tile</li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>CONF</td>
                    <td>=</td>
                    <td class='context-item-value'>nil  unless defined?(CONF)</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'></td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-dialog'>dialog</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Class methods</h2>
              <div class='method public-class' id='method-method-c-new'>
                <a name='method-c-new'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>( initialdir=nil,help=nil,hash=nil )</span>
                </div>
                <div class='description'>
                  
                  <p>This class provides the common functions for all dir- and file-choosers.</p>
                  
                  <p>To get this dialog explain, run the example and point the mouse at each
                  button.</p>
                  
                  <p><strong>Params</strong>:</p>
                  <ul><li>
                  <p><code>initialdir</code> - (String, optional) Initial dir; default =
                  <code>nil</code> -&gt; Working dir at the time of calling this method.</p>
                  </li><li>
                  <p><code>help</code> - (String, optional) ; Text used in the BalloonHelp;
                  default = <code>nil</code> -&gt; No help.</p>
                  </li><li>
                  <p><code>hash</code> - (<a href="../Hash.html">Hash</a>, optional)</p>
                  <ul><li>
                  <p><code>:initialdir</code> - Like above.</p>
                  </li><li>
                  <p><code>:help</code> - Like above.</p>
                  </li><li>
                  <p><code>:mode</code> - One of :choosedir, :openfile, :openfiles, :savefile.</p>
                  </li><li>
                  <p><code>:question</code> - (String) Your question; <code>nil</code> -&gt; no
                  question.</p>
                  </li><li>
                  <p><code>:title</code> - (String) Title of the dialog window.</p>
                  </li><li>
                  <p><code>:defaultEntry</code> - (String) Path, shown in the entry field.</p>
                  </li><li>
                  <p><code>:validate</code> - <code>true</code> or <code>false</code>; if true,
                  a valid path must be chosen, canceling the dialog is not possible.</p>
                  </li><li>
                  <p><code>:configSection</code> - (any String, Integer or Float or nil) Not
                  important. Sets the section in the config-file, where for example the
                  window size and position is stored.</p>
                  </li></ul>
                  </li></ul>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-new-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-new-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 875</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">initialdir</span>=<span class="ruby-keyword">nil</span>,<span class="ruby-identifier">help</span>=<span class="ruby-keyword">nil</span>,<span class="ruby-identifier">hash</span>=<span class="ruby-keyword">nil</span> )&#x000A;  <span class="ruby-identifier">initialdir</span>, <span class="ruby-identifier">help</span>, <span class="ruby-identifier">hash</span> = &#x000A;    <span class="ruby-constant">TKXXS_CLASSES</span>.<span class="ruby-identifier">args_1</span>( <span class="ruby-identifier">initialdir</span>,<span class="ruby-identifier">help</span>,<span class="ruby-identifier">hash</span> )&#x000A;&#x000A;  <span class="ruby-comment"># Must always include:  :question, :help</span>&#x000A;  <span class="ruby-identifier">hash</span> = {&#x000A;    <span class="ruby-value">:mode=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:openfiles</span>,&#x000A;    <span class="ruby-value">:initialdir</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>,&#x000A;    <span class="ruby-value">:question</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Please choose the desired files:&quot;</span>,&#x000A;    <span class="ruby-value">:help</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,&#x000A;    <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Choose Files'</span>,&#x000A;    <span class="ruby-value">:defaultEntry</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">''</span>,&#x000A;    <span class="ruby-value">:validate=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">nil</span>,&#x000A;  }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>)&#x000A;&#x000A;  <span class="ruby-comment"># Necessary, because hash[:configSection]  is deleted later on</span>&#x000A;  <span class="ruby-comment"># in args_2.</span>&#x000A;  <span class="ruby-constant">CONF</span>.<span class="ruby-identifier">section</span> = <span class="ruby-identifier">hash</span>[<span class="ruby-value">:configSection</span>] <span class="ruby-keyword">if</span> <span class="ruby-constant">CONF</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:configSection</span>]&#x000A;  <span class="ruby-identifier">help</span>,<span class="ruby-identifier">hash</span>,<span class="ruby-identifier">question</span>,<span class="ruby-identifier">initialdirH</span>,<span class="ruby-identifier">mode</span>,<span class="ruby-identifier">defaultEntry</span>,<span class="ruby-ivar">@validate</span> = &#x000A;    <span class="ruby-constant">TKXXS_CLASSES</span>.<span class="ruby-identifier">args_2</span>(<span class="ruby-identifier">help</span>,<span class="ruby-identifier">hash</span>,<span class="ruby-identifier">question</span>,<span class="ruby-value">:initialdir</span>,<span class="ruby-value">:mode</span>,<span class="ruby-value">:defaultEntry</span>,<span class="ruby-value">:validate</span>)&#x000A;  <span class="ruby-identifier">hash</span>[<span class="ruby-value">:initialdir</span>] = <span class="ruby-identifier">initialdir</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">initialdirH</span>  <span class="ruby-comment"># Tja, etwas umstaendlich</span>&#x000A;&#x000A;  <span class="ruby-ivar">@teardownDone</span> = <span class="ruby-keyword">false</span>&#x000A;  <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">mode</span>&#x000A;  <span class="ruby-ivar">@paths</span> = <span class="ruby-keyword">nil</span>&#x000A;  <span class="ruby-ivar">@ans</span> = <span class="ruby-keyword">nil</span>&#x000A;  <span class="ruby-ivar">@goOn</span> = <span class="ruby-identifier">goOn</span> = <span class="ruby-constant">TkVariable</span>.<span class="ruby-identifier">new</span> &#x000A;  <span class="ruby-comment"># Because you cannot use instance-vars in procs. TODO: smarter way?</span>&#x000A;  <span class="ruby-identifier">old_section</span> = <span class="ruby-constant">CONF</span>.<span class="ruby-identifier">section</span>&#x000A;  <span class="ruby-constant">CONF</span>.<span class="ruby-identifier">section</span> = <span class="ruby-keyword">nil</span>&#x000A;  <span class="ruby-ivar">@recent_dirs_size</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentDirsSize</span>]&#x000A;  <span class="ruby-ivar">@recent_files_size</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentFilessSize</span>]&#x000A;  <span class="ruby-constant">CONF</span>.<span class="ruby-identifier">section</span> = <span class="ruby-identifier">old_section</span>&#x000A;&#x000A;&#x000A;  <span class="ruby-constant">Tk</span>.<span class="ruby-identifier">update</span> <span class="ruby-comment"># Show any calling widget first to make it lower than @dialog</span>&#x000A;&#x000A;  <span class="ruby-comment">#----  Toplevel: @dialog</span>&#x000A;  <span class="ruby-ivar">@dialog</span>=<span class="ruby-constant">Tk</span><span class="ruby-operator">::</span><span class="ruby-constant">Toplevel</span>.<span class="ruby-identifier">new</span>() {<span class="ruby-identifier">title</span>(<span class="ruby-identifier">hash</span>[<span class="ruby-value">:title</span>])} &#x000A;  <span class="ruby-ivar">@dialog</span>.<span class="ruby-identifier">geometry</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:pathChooserGeom</span>]  <span class="ruby-keyword">if</span> <span class="ruby-constant">CONF</span>&#x000A;&#x000A;  <span class="ruby-comment"># This is neccessary for handling the close-button ('X') of the window</span>&#x000A;  <span class="ruby-ivar">@dialog</span>.<span class="ruby-identifier">protocol</span>(<span class="ruby-value">:WM_DELETE_WINDOW</span>) {<span class="ruby-identifier">validate_and_leave</span>}&#x000A;  &#x000A;  <span class="ruby-comment">##/ @dialog.bind('Destroy') {</span>&#x000A;  <span class="ruby-comment">##/   unless teardownDone</span>&#x000A;  <span class="ruby-comment">##/     goOn.value = '1' # !</span>&#x000A;  <span class="ruby-comment">##/     $tkxxs_.delete(object_id)</span>&#x000A;  <span class="ruby-comment">##/     if CONF</span>&#x000A;  <span class="ruby-comment">##/       CONF[:pathChooserGeom] = @dialog.geometry</span>&#x000A;  <span class="ruby-comment">##/       CONF.section = nil</span>&#x000A;  <span class="ruby-comment">##/       ##/ CONF.save</span>&#x000A;  <span class="ruby-comment">##/     end</span>&#x000A;  <span class="ruby-comment">##/     teardownDone = true</span>&#x000A;  <span class="ruby-comment">##/   end # unless</span>&#x000A;  <span class="ruby-comment">##/ }</span>&#x000A;&#x000A;  <span class="ruby-comment">#----  Top Frame </span>&#x000A;  <span class="ruby-ivar">@frame</span> = <span class="ruby-constant">Frame</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@dialog</span>) {<span class="ruby-identifier">padding</span> <span class="ruby-string">&quot;3 3 3 3&quot;</span>}.&#x000A;    <span class="ruby-identifier">pack</span>(<span class="ruby-value">:fill=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:both</span>,<span class="ruby-value">:expand=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span>)&#x000A;&#x000A;  <span class="ruby-comment">#----  Label (question)</span>&#x000A;  <span class="ruby-ivar">@qLbl</span> = <span class="ruby-identifier">question_lbl</span>(<span class="ruby-identifier">question</span>,<span class="ruby-identifier">help</span>).<span class="ruby-identifier">grid</span>(<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">6</span>,<span class="ruby-value">:sticky=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'nsew'</span>)&#x000A;&#x000A;  <span class="ruby-comment">#---- Labels (&quot;Recent&quot;, &quot;Favorites&quot;, ...)</span>&#x000A;  <span class="ruby-ivar">@recLbl</span> = <span class="ruby-identifier">recent_lbl</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>,<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)&#x000A;  <span class="ruby-ivar">@favLbl</span> = <span class="ruby-identifier">favorite_lbl</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)&#x000A;  <span class="ruby-ivar">@pasteLbl</span> = <span class="ruby-identifier">paste_lbl</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>,<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)&#x000A;&#x000A;  <span class="ruby-comment">#---- Buttons (&quot;Dirs&quot;, &quot;Files&quot;, &quot;Browse&quot;, ...</span>&#x000A;  <span class="ruby-ivar">@recDirsBtn</span> = <span class="ruby-identifier">recent_dirs_btn</span>(<span class="ruby-identifier">hash</span>).<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)&#x000A;  <span class="ruby-ivar">@recFilesBtn</span> = <span class="ruby-identifier">recent_files_btn</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)&#x000A;  <span class="ruby-ivar">@favDirsBtn</span> = <span class="ruby-identifier">favorite_dirs_btn</span>(<span class="ruby-identifier">hash</span>).<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>)&#x000A;  <span class="ruby-ivar">@favFilesBtn</span> = <span class="ruby-identifier">favorite_files_btn</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">3</span>)&#x000A;  <span class="ruby-ivar">@pasteBtn</span> = <span class="ruby-identifier">paste_btn</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>)&#x000A;  <span class="ruby-ivar">@browseBtn</span> = <span class="ruby-identifier">browse_btn</span>(<span class="ruby-identifier">hash</span>).<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">5</span>)&#x000A;&#x000A;  <span class="ruby-comment">#---- Entry (Path)</span>&#x000A;  <span class="ruby-ivar">@entry</span> = <span class="ruby-identifier">entry</span>(<span class="ruby-identifier">defaultEntry</span>).<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">3</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>,<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">6</span>,<span class="ruby-value">:sticky=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'ew'</span>)&#x000A;  &#x000A;  <span class="ruby-comment">#---- Buttons (&quot;Cancel&quot;, &quot;OK&quot;)</span>&#x000A;  <span class="ruby-ivar">@cancelBtn</span> = <span class="ruby-identifier">cancel_btn</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)&#x000A;  <span class="ruby-ivar">@okBtn</span> = <span class="ruby-identifier">ok_btn</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">5</span>)&#x000A;  &#x000A;  <span class="ruby-comment">#---- CheckButton (&quot;Add to Favorites&quot;)</span>&#x000A;  <span class="ruby-ivar">@favChkLbl</span> = <span class="ruby-identifier">favorite_chk_label</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>,<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">2</span>,<span class="ruby-value">:sticky=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'e'</span>)&#x000A;  <span class="ruby-ivar">@favDirsChkVal</span> = <span class="ruby-keyword">nil</span>&#x000A;  <span class="ruby-ivar">@favDirsChk</span> = <span class="ruby-identifier">add2favorites_dirs_chk</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">3</span>,<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)&#x000A;  <span class="ruby-ivar">@favFilesChkVal</span> = <span class="ruby-keyword">nil</span>&#x000A;  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:choosedir</span>&#x000A;    <span class="ruby-ivar">@favFilesChk</span> = <span class="ruby-identifier">add2favorites_files_chk</span>.&#x000A;      <span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">4</span>,<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>,<span class="ruby-value">:sticky=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'w'</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;&#x000A;  <span class="ruby-comment">#---- Text (showing other path formats)</span>&#x000A;  <span class="ruby-ivar">@txt</span> = <span class="ruby-identifier">text2</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-value">:row=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">5</span>,<span class="ruby-value">:column=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>,<span class="ruby-value">:columnspan=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">6</span>,<span class="ruby-value">:sticky=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'sew'</span>)&#x000A;  &#x000A;  <span class="ruby-comment">#---- grid_configure</span>&#x000A;  <span class="ruby-ivar">@frame</span>.<span class="ruby-identifier">grid_columnconfigure</span>([<span class="ruby-value">0</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>,<span class="ruby-value">5</span>], <span class="ruby-value">:weight=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)&#x000A;  <span class="ruby-ivar">@frame</span>.<span class="ruby-identifier">grid_rowconfigure</span>([<span class="ruby-value">0</span>,<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>,<span class="ruby-value">4</span>], <span class="ruby-value">:weight=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)&#x000A;  <span class="ruby-ivar">@frame</span>.<span class="ruby-identifier">grid_rowconfigure</span>([<span class="ruby-value">5</span>], <span class="ruby-value">:weight=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)&#x000A;&#x000A;  <span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">focus</span>&#x000A;  <span class="ruby-constant">Tk</span>.<span class="ruby-identifier">update</span>&#x000A;  <span class="ruby-comment">##/ @dialog.raise</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-add2favorites_dirs_chk'>
                <a name='method-i-add2favorites_dirs_chk'></a>
                <div class='synopsis'>
                  <span class='name'>add2favorites_dirs_chk</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-add2favorites_dirs_chk-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-add2favorites_dirs_chk-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1284</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">add2favorites_dirs_chk</span>(  )&#x000A;  <span class="ruby-identifier">favChkVar</span> = <span class="ruby-constant">TkVariable</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)&#x000A;  <span class="ruby-identifier">favChk</span> = <span class="ruby-constant">CheckButton</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-identifier">text</span> <span class="ruby-string">'dirs'</span>&#x000A;    <span class="ruby-identifier">variable</span> <span class="ruby-identifier">favChkVar</span>&#x000A;    <span class="ruby-comment">##/ onvalue 'metric'; offvalue 'imperial'</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;If checked, the path(s) of files or directories you are going to choose will be added to the favorite directories.&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">favChk</span>.<span class="ruby-identifier">command</span> { <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fav_dirs_chk_changed</span>(<span class="ruby-identifier">favChkVar</span>.<span class="ruby-identifier">value</span>) }&#x000A;  <span class="ruby-identifier">favChk</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-add2favorites_files_chk'>
                <a name='method-i-add2favorites_files_chk'></a>
                <div class='synopsis'>
                  <span class='name'>add2favorites_files_chk</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-add2favorites_files_chk-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-add2favorites_files_chk-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1296</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">add2favorites_files_chk</span>(  )&#x000A;  <span class="ruby-identifier">favChkVar</span> = <span class="ruby-constant">TkVariable</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)&#x000A;  <span class="ruby-identifier">favChk</span> = <span class="ruby-constant">CheckButton</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-identifier">text</span> <span class="ruby-string">'files'</span>&#x000A;    <span class="ruby-identifier">variable</span> <span class="ruby-identifier">favChkVar</span>&#x000A;    <span class="ruby-comment">##/ onvalue 'metric'; offvalue 'imperial'</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;If checked, the files(s) you are going to choose will be added to the favorite files.&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">favChk</span>.<span class="ruby-identifier">command</span> { <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fav_files_chk_changed</span>(<span class="ruby-identifier">favChkVar</span>.<span class="ruby-identifier">value</span>) }&#x000A;  <span class="ruby-identifier">favChk</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-answer'>
                <a name='method-i-answer'></a>
                <div class='synopsis'>
                  <span class='name'>answer</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                  <p>When dialog is finished, always <code>set_paths</code> must be called. For
                  'Cancel', use <a
                  href="FileAndDirChooser.html#method-i-set_paths">#set_paths</a>(nil)</p>
                  
                  <p><strong>Returns</strong>: (String or Array or nil) Path(s);
                  <code>nil</code>, if 'Cancel' was clicked.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-answer-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-answer-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1020</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">answer</span>(  )&#x000A;  <span class="ruby-ivar">@dialog</span>.<span class="ruby-identifier">raise</span>  <span class="ruby-comment"># Raise dialog above all other windows</span>&#x000A;  <span class="ruby-ivar">@goOn</span>.<span class="ruby-identifier">wait</span> <span class="ruby-comment"># Force hold on of the dialog</span>&#x000A;  <span class="ruby-comment"># Tear down</span>&#x000A;  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@teardownDone</span>  <span class="ruby-comment"># TODO: not neccessary anymore?</span>&#x000A;    <span class="ruby-identifier">$tkxxs_</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">object_id</span>)&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-constant">CONF</span>   <span class="ruby-comment"># Save settings (e.g., window size)</span>&#x000A;      <span class="ruby-constant">CONF</span>[<span class="ruby-value">:pathChooserGeom</span>] = <span class="ruby-ivar">@dialog</span>.<span class="ruby-identifier">geometry</span>&#x000A;      <span class="ruby-comment">##/ CONF.save</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-ivar">@teardownDone</span> = <span class="ruby-keyword">true</span>&#x000A;    <span class="ruby-comment">##/ @goOn.value = '1'</span>&#x000A;    <span class="ruby-ivar">@dialog</span>.<span class="ruby-identifier">destroy</span>  <span class="ruby-comment"># Remove dialog window</span>&#x000A;  <span class="ruby-keyword">end</span> <span class="ruby-comment"># unless</span>&#x000A;  <span class="ruby-constant">Tk</span>.<span class="ruby-identifier">update</span>&#x000A;&#x000A;  <span class="ruby-ivar">@paths</span> <span class="ruby-comment"># return the &quot;answer&quot;</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-browse_btn'>
                <a name='method-i-browse_btn'></a>
                <div class='synopsis'>
                  <span class='name'>browse_btn</span>
                  <span class='arguments'>( hash )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-browse_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-browse_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1191</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">browse_btn</span>( <span class="ruby-identifier">hash</span> )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Browse&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Search for directory or file manually&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">entry</span> = <span class="ruby-ivar">@entry</span>&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { &#x000A;    <span class="ruby-identifier">entryStr</span> = <span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">get</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'\'</span>, <span class="ruby-string">'/'</span>).<span class="ruby-identifier">chomp</span>(<span class="ruby-string">'/'</span>)&#x000A;    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">entryStr</span>.<span class="ruby-identifier">empty?</span>&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">entryStr</span>)&#x000A;        <span class="ruby-identifier">hash</span>[<span class="ruby-value">:initialdir</span>] = <span class="ruby-identifier">entryStr</span>&#x000A;      <span class="ruby-keyword">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">entryStr</span>)&#x000A;        <span class="ruby-identifier">hash</span>[<span class="ruby-value">:initialdir</span>] = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">entryStr</span>)&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">hash</span>) &#x000A;  }&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-cancel_btn'>
                <a name='method-i-cancel_btn'></a>
                <div class='synopsis'>
                  <span class='name'>cancel_btn</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-cancel_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-cancel_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1217</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">cancel_btn</span>(  )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Cancel&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Do nothing&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { &#x000A;    <span class="ruby-identifier">validate_and_leave</span>&#x000A;    <span class="ruby-comment">###set_paths(nil)</span>&#x000A;    <span class="ruby-comment">##/ dialog_destroy </span>&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-entry'>
                <a name='method-i-entry'></a>
                <div class='synopsis'>
                  <span class='name'>entry</span>
                  <span class='arguments'>( defaultEntry )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-entry-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-entry-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1209</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">entry</span>( <span class="ruby-identifier">defaultEntry</span> )&#x000A;  <span class="ruby-identifier">entry</span> = <span class="ruby-constant">Entry</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">ent</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ent</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Type or paste a path here.&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">defaultEntry</span>)&#x000A;  <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-string">'Key-Return'</span>) { <span class="ruby-identifier">use_entry</span>(<span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">get</span>) }&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-fav_dirs'>
                <a name='method-i-fav_dirs'></a>
                <div class='synopsis'>
                  <span class='name'>fav_dirs</span>
                  <span class='arguments'>( paths )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-fav_dirs-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-fav_dirs-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1339</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">fav_dirs</span>( <span class="ruby-identifier">paths</span> )&#x000A;  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">paths</span>&#x000A;  <span class="ruby-identifier">paths</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">dup</span>&#x000A;  <span class="ruby-identifier">favDirs</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:favoriteDirs</span>] <span class="ruby-operator">||</span> []&#x000A;  <span class="ruby-identifier">paths</span> = [<span class="ruby-identifier">paths</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">String</span>&#x000A;  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">p</span>)  <span class="ruby-operator">?</span>  <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">p</span>) <span class="ruby-operator">:</span>  <span class="ruby-identifier">p</span>&#x000A;  }&#x000A;  <span class="ruby-identifier">favDirs</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">paths</span>)&#x000A;  <span class="ruby-identifier">favDirs</span>.<span class="ruby-identifier">uniq!</span>&#x000A;  <span class="ruby-constant">CONF</span>[<span class="ruby-value">:favoriteDirs</span>] = <span class="ruby-identifier">favDirs</span>&#x000A;  <span class="ruby-identifier">favDirs</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-fav_dirs_chk_changed'>
                <a name='method-i-fav_dirs_chk_changed'></a>
                <div class='synopsis'>
                  <span class='name'>fav_dirs_chk_changed</span>
                  <span class='arguments'>( val )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-fav_dirs_chk_changed-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-fav_dirs_chk_changed-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1308</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">fav_dirs_chk_changed</span>( <span class="ruby-identifier">val</span> )&#x000A;  <span class="ruby-ivar">@favDirsChkVal</span> =  <span class="ruby-identifier">val</span> <span class="ruby-operator">==</span> <span class="ruby-string">'1'</span>  <span class="ruby-operator">?</span>  <span class="ruby-keyword">true</span>  <span class="ruby-operator">:</span>  <span class="ruby-keyword">false</span>&#x000A;  <span class="ruby-ivar">@favDirsChkVal</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-fav_files'>
                <a name='method-i-fav_files'></a>
                <div class='synopsis'>
                  <span class='name'>fav_files</span>
                  <span class='arguments'>( paths )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-fav_files-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-fav_files-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1353</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">fav_files</span>( <span class="ruby-identifier">paths</span> )&#x000A;  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">paths</span>&#x000A;  <span class="ruby-identifier">paths</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">dup</span>&#x000A;  <span class="ruby-identifier">favFiles</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:favoriteFiles</span>] <span class="ruby-operator">||</span> []&#x000A;  <span class="ruby-identifier">paths</span> = [<span class="ruby-identifier">paths</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">String</span>&#x000A;  <span class="ruby-identifier">favFiles</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">paths</span>)&#x000A;  <span class="ruby-identifier">favFiles</span>.<span class="ruby-identifier">uniq!</span>&#x000A;  <span class="ruby-constant">CONF</span>[<span class="ruby-value">:favoriteFiles</span>] = <span class="ruby-identifier">favFiles</span>&#x000A;  <span class="ruby-identifier">favFiles</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-fav_files_chk_changed'>
                <a name='method-i-fav_files_chk_changed'></a>
                <div class='synopsis'>
                  <span class='name'>fav_files_chk_changed</span>
                  <span class='arguments'>( val )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-fav_files_chk_changed-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-fav_files_chk_changed-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1313</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">fav_files_chk_changed</span>( <span class="ruby-identifier">val</span> )&#x000A;  <span class="ruby-ivar">@favFilesChkVal</span> =  <span class="ruby-identifier">val</span> <span class="ruby-operator">==</span> <span class="ruby-string">'1'</span>  <span class="ruby-operator">?</span>  <span class="ruby-keyword">true</span>  <span class="ruby-operator">:</span>  <span class="ruby-keyword">false</span>&#x000A;  <span class="ruby-ivar">@favDirsChk</span>.<span class="ruby-identifier">invoke</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@favFilesChkVal</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@favDirsChkVal</span>&#x000A;  <span class="ruby-ivar">@favFilesChkVal</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-favorite_chk_label'>
                <a name='method-i-favorite_chk_label'></a>
                <div class='synopsis'>
                  <span class='name'>favorite_chk_label</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-favorite_chk_label-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-favorite_chk_label-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1280</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">favorite_chk_label</span>(  )&#x000A;  <span class="ruby-identifier">lbl</span> = <span class="ruby-constant">Label</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Add to favorites&quot;</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-favorite_dirs_btn'>
                <a name='method-i-favorite_dirs_btn'></a>
                <div class='synopsis'>
                  <span class='name'>favorite_dirs_btn</span>
                  <span class='arguments'>( hash )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-favorite_dirs_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-favorite_dirs_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1126</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">favorite_dirs_btn</span>( <span class="ruby-identifier">hash</span> )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Dirs&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Favorite directories&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { &#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-constant">CONF</span>&#x000A;      <span class="ruby-identifier">favDirs</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:favoriteDirs</span>] <span class="ruby-operator">||</span> []&#x000A;      <span class="ruby-identifier">dir</span> = <span class="ruby-constant">SingleChoiceD</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">favDirs</span>.<span class="ruby-identifier">sort</span>).<span class="ruby-identifier">answer</span>&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-identifier">dir</span>&#x000A;        <span class="ruby-identifier">hash2</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>({<span class="ruby-value">:initialdir=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">dir</span>}).<span class="ruby-identifier">dup</span>&#x000A;        <span class="ruby-comment">##/ filesStr = Tk.getOpenFile(hash2)</span>&#x000A;        <span class="ruby-comment">##/ set_paths( tks_result_to_ary( filesStr ) )</span>&#x000A;        <span class="ruby-keyword">case</span> <span class="ruby-ivar">@mode</span>&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:choosedir</span>; <span class="ruby-identifier">validate_and_set_path</span>( <span class="ruby-identifier">dir</span> )&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfiles</span>;  <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">hash2</span>)&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfile</span>;   <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">hash2</span>)&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:savefile</span>;   <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">hash2</span>)&#x000A;        <span class="ruby-keyword">else</span>; <span class="ruby-identifier">raise</span>&#x000A;        <span class="ruby-keyword">end</span> <span class="ruby-comment"># case</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">end</span> <span class="ruby-comment"># if CONF</span>&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-favorite_files_btn'>
                <a name='method-i-favorite_files_btn'></a>
                <div class='synopsis'>
                  <span class='name'>favorite_files_btn</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-favorite_files_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-favorite_files_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1151</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">favorite_files_btn</span>(  )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Files&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Favorite files&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { &#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-constant">CONF</span>&#x000A;      <span class="ruby-identifier">favFiles</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:favoriteFiles</span>] <span class="ruby-operator">||</span> []&#x000A;      <span class="ruby-identifier">filePath</span> = <span class="ruby-constant">SingleChoiceD</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">favFiles</span>.<span class="ruby-identifier">sort</span>).<span class="ruby-identifier">answer</span>&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-identifier">filePath</span>&#x000A;        <span class="ruby-keyword">case</span> <span class="ruby-ivar">@mode</span>&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:choosedir</span>&#x000A;          <span class="ruby-identifier">validate_and_set_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">filePath</span>))&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfiles</span>&#x000A;          <span class="ruby-identifier">validate_and_set_path</span>( [<span class="ruby-identifier">filePath</span>] )&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfile</span>, <span class="ruby-value">:savefile</span>&#x000A;          <span class="ruby-identifier">validate_and_set_path</span>( <span class="ruby-identifier">filePath</span> )&#x000A;        <span class="ruby-keyword">else</span>; <span class="ruby-identifier">raise</span>&#x000A;        <span class="ruby-keyword">end</span> <span class="ruby-comment"># case</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">end</span> <span class="ruby-comment"># if CONF</span>&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-favorite_lbl'>
                <a name='method-i-favorite_lbl'></a>
                <div class='synopsis'>
                  <span class='name'>favorite_lbl</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-favorite_lbl-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-favorite_lbl-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1066</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">favorite_lbl</span>(  )&#x000A;  <span class="ruby-identifier">lbl</span> = <span class="ruby-constant">Label</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Favorites&quot;</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-favorites_and_recent'>
                <a name='method-i-favorites_and_recent'></a>
                <div class='synopsis'>
                  <span class='name'>favorites_and_recent</span>
                  <span class='arguments'>( paths )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-favorites_and_recent-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-favorites_and_recent-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1330</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">favorites_and_recent</span>( <span class="ruby-identifier">paths</span> )&#x000A;  <span class="ruby-identifier">fav_dirs</span>(<span class="ruby-identifier">paths</span>)  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@favDirsChkVal</span>  <span class="ruby-comment"># For any mode</span>&#x000A;  <span class="ruby-identifier">fav_files</span>(<span class="ruby-identifier">paths</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@favFilesChkVal</span> <span class="ruby-comment"># For any mode but :choosedir; no @favFilesChk for chooseDirectory</span>&#x000A;  <span class="ruby-identifier">recent_dirs</span>(<span class="ruby-identifier">paths</span>)&#x000A;  <span class="ruby-identifier">recent_files</span>(<span class="ruby-identifier">paths</span>) <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:choosedir</span>&#x000A;  <span class="ruby-constant">CONF</span>.<span class="ruby-identifier">save</span>&#x000A;  <span class="ruby-keyword">nil</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-ok_btn'>
                <a name='method-i-ok_btn'></a>
                <div class='synopsis'>
                  <span class='name'>ok_btn</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-ok_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-ok_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1229</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">ok_btn</span>(  )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Use entry&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Use path from entry box&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { <span class="ruby-identifier">use_entry</span>(<span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">get</span>) }&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-paste_btn'>
                <a name='method-i-paste_btn'></a>
                <div class='synopsis'>
                  <span class='name'>paste_btn</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-paste_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-paste_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1175</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">paste_btn</span>(  )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Paste&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Paste clipboard to entry field&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { &#x000A;    <span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">0</span>, <span class="ruby-value">:end</span>)&#x000A;    <span class="ruby-keyword">begin</span>&#x000A;      <span class="ruby-identifier">clip</span> = <span class="ruby-constant">TkClipboard</span>.<span class="ruby-identifier">get</span>&#x000A;    <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span> <span class="ruby-comment"># Clipboard no String</span>&#x000A;      <span class="ruby-identifier">clip</span> = <span class="ruby-string">&quot;Nothing usefull in clipboard&quot;</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">clip</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-paste_lbl'>
                <a name='method-i-paste_lbl'></a>
                <div class='synopsis'>
                  <span class='name'>paste_lbl</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-paste_lbl-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-paste_lbl-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1070</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">paste_lbl</span>(  )&#x000A;  <span class="ruby-constant">Label</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Clipboard&quot;</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-question_lbl'>
                <a name='method-i-question_lbl'></a>
                <div class='synopsis'>
                  <span class='name'>question_lbl</span>
                  <span class='arguments'>( question, help)</span>
                </div>
                <div class='description'>
                  
                  <p>/ ################################################################## / #
                  Saves <a href="FileAndDirChooser.html#CONF">CONF</a>! / def dialog_destroy(
                  ) /   unless @teardownDone /     $tkxxs_.delete(object_id) /     if <a
                  href="FileAndDirChooser.html#CONF">CONF</a> /       <a
                  href="http://:pathChooserGeom">CONF</a> = @dialog.geometry /      
                  CONF.section = nil /       ##/ CONF.save /     end /     @teardownDone =
                  true /     ##/ @goOn.value = '1' /     @dialog.destroy /   end # unless /  
                  nil / end # dialog_destroy</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-question_lbl-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-question_lbl-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1056</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">question_lbl</span>( <span class="ruby-identifier">question</span>, <span class="ruby-identifier">help</span>)&#x000A;  <span class="ruby-identifier">lbl</span> = <span class="ruby-constant">Label</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">question</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">help</span>)&#x000A;  }&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-recent_dirs'>
                <a name='method-i-recent_dirs'></a>
                <div class='synopsis'>
                  <span class='name'>recent_dirs</span>
                  <span class='arguments'>( paths )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-recent_dirs-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-recent_dirs-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1364</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_dirs</span>( <span class="ruby-identifier">paths</span> )&#x000A;  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">paths</span>&#x000A;  <span class="ruby-identifier">paths</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">dup</span>&#x000A;  <span class="ruby-identifier">dirs</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentDirs</span>] <span class="ruby-operator">||</span> []&#x000A;  <span class="ruby-identifier">paths</span> = [<span class="ruby-identifier">paths</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">String</span>&#x000A;  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-identifier">p</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">p</span>)  <span class="ruby-operator">?</span>  <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">p</span>) <span class="ruby-operator">:</span>  <span class="ruby-identifier">p</span>&#x000A;    <span class="ruby-identifier">p</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">p</span>)  <span class="ruby-operator">?</span>  <span class="ruby-identifier">p</span>  <span class="ruby-operator">:</span>  <span class="ruby-keyword">nil</span>&#x000A;    <span class="ruby-identifier">p</span>&#x000A;  }&#x000A;  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">compact!</span>&#x000A;  <span class="ruby-identifier">dirs</span> = <span class="ruby-identifier">paths</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">dirs</span>&#x000A;  <span class="ruby-identifier">dirs</span>.<span class="ruby-identifier">uniq!</span>&#x000A;  <span class="ruby-comment">##binding.pry</span>&#x000A;  <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentDirs</span>] = <span class="ruby-identifier">dirs</span>[<span class="ruby-value">0</span>, <span class="ruby-ivar">@recent_dirs_size</span> ]&#x000A;  <span class="ruby-identifier">dirs</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-recent_dirs_btn'>
                <a name='method-i-recent_dirs_btn'></a>
                <div class='synopsis'>
                  <span class='name'>recent_dirs_btn</span>
                  <span class='arguments'>( hash )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-recent_dirs_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-recent_dirs_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1074</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_dirs_btn</span>( <span class="ruby-identifier">hash</span> )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Dirs&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Recent directories&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { &#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-constant">CONF</span>&#x000A;      <span class="ruby-identifier">dirs</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentDirs</span>] <span class="ruby-operator">||</span> []&#x000A;      <span class="ruby-comment">## dir = SingleChoiceD.new(dirs.sort).answer</span>&#x000A;      <span class="ruby-identifier">dir</span> = <span class="ruby-constant">SingleChoiceD</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">dirs</span>).<span class="ruby-identifier">answer</span> <span class="ruby-comment"># unsorted</span>&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-identifier">dir</span>&#x000A;        <span class="ruby-identifier">hash2</span> = <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>({<span class="ruby-value">:initialdir=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">dir</span>}).<span class="ruby-identifier">dup</span> &#x000A;        <span class="ruby-comment">##/ filesStr = Tk.getOpenFile(hash2)</span>&#x000A;        <span class="ruby-comment">##/ set_paths( tks_result_to_ary( filesStr ) )</span>&#x000A;        <span class="ruby-keyword">case</span> <span class="ruby-ivar">@mode</span>&#x000A;        <span class="ruby-comment">##/ when :choosedir;  set_paths(dir)</span>&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:choosedir</span>;  <span class="ruby-identifier">validate_and_set_path</span>( <span class="ruby-identifier">dir</span> )&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfiles</span>;  <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">hash2</span>)&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfile</span>;   <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">hash2</span>)&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:savefile</span>;   <span class="ruby-identifier">choose</span>(<span class="ruby-identifier">hash2</span>)&#x000A;        <span class="ruby-keyword">else</span>; <span class="ruby-identifier">raise</span>&#x000A;        <span class="ruby-keyword">end</span> <span class="ruby-comment"># case</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">end</span> <span class="ruby-comment"># if CONF</span>&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-recent_files'>
                <a name='method-i-recent_files'></a>
                <div class='synopsis'>
                  <span class='name'>recent_files</span>
                  <span class='arguments'>( paths)</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-recent_files-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-recent_files-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1382</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_files</span>( <span class="ruby-identifier">paths</span>)&#x000A;  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">paths</span>&#x000A;  <span class="ruby-identifier">paths</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">dup</span>&#x000A;  <span class="ruby-identifier">files</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentFiles</span>] <span class="ruby-operator">||</span> []&#x000A;  <span class="ruby-identifier">paths</span> = [<span class="ruby-identifier">paths</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">String</span>&#x000A;  <span class="ruby-identifier">files</span> = <span class="ruby-identifier">paths</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">files</span>&#x000A;  <span class="ruby-identifier">files</span>.<span class="ruby-identifier">uniq!</span>&#x000A;  <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentFiles</span>] = <span class="ruby-identifier">files</span>[<span class="ruby-value">0</span>, <span class="ruby-ivar">@recent_files_size</span> ]&#x000A;  <span class="ruby-identifier">files</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-recent_files_btn'>
                <a name='method-i-recent_files_btn'></a>
                <div class='synopsis'>
                  <span class='name'>recent_files_btn</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-recent_files_btn-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-recent_files_btn-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1101</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_files_btn</span>(  )&#x000A;  <span class="ruby-identifier">btn</span> = <span class="ruby-constant">Button</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Files&quot;</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-constant">BalloonHelp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">w</span>,<span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Recent files&quot;</span>)&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>.<span class="ruby-identifier">command</span> { &#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-constant">CONF</span>&#x000A;      <span class="ruby-identifier">files</span> = <span class="ruby-constant">CONF</span>[<span class="ruby-value">:recentFiles</span>] <span class="ruby-operator">||</span> []&#x000A;      <span class="ruby-comment">## filePath = SingleChoiceD.new(files.sort).answer</span>&#x000A;      <span class="ruby-identifier">filePath</span> = <span class="ruby-constant">SingleChoiceD</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">files</span>).<span class="ruby-identifier">answer</span> <span class="ruby-comment"># unsorted</span>&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-identifier">filePath</span>&#x000A;        <span class="ruby-keyword">case</span> <span class="ruby-ivar">@mode</span>&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:choosedir</span>&#x000A;          <span class="ruby-identifier">validate_and_set_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">filePath</span>))&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfiles</span>&#x000A;          <span class="ruby-identifier">validate_and_set_path</span>( <span class="ruby-identifier">filePath</span> )&#x000A;        <span class="ruby-keyword">when</span> <span class="ruby-value">:openfile</span>, <span class="ruby-value">:savefile</span>&#x000A;          <span class="ruby-identifier">validate_and_set_path</span>( <span class="ruby-identifier">filePath</span> )&#x000A;        <span class="ruby-keyword">else</span>; <span class="ruby-identifier">raise</span>&#x000A;        <span class="ruby-keyword">end</span> <span class="ruby-comment"># case</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">end</span> <span class="ruby-comment"># if CONF</span>&#x000A;  }&#x000A;  <span class="ruby-identifier">btn</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-recent_lbl'>
                <a name='method-i-recent_lbl'></a>
                <div class='synopsis'>
                  <span class='name'>recent_lbl</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-recent_lbl-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-recent_lbl-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1062</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">recent_lbl</span>(  )&#x000A;  <span class="ruby-identifier">lbl</span> = <span class="ruby-constant">Label</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>, <span class="ruby-value">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;Recent&quot;</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-set_paths'>
                <a name='method-i-set_paths'></a>
                <div class='synopsis'>
                  <span class='name'>set_paths</span>
                  <span class='arguments'>( paths )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-set_paths-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-set_paths-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1007</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_paths</span>( <span class="ruby-identifier">paths</span> )&#x000A;  <span class="ruby-ivar">@paths</span> = <span class="ruby-identifier">paths</span>&#x000A;  <span class="ruby-identifier">favorites_and_recent</span>(<span class="ruby-identifier">paths</span>)  <span class="ruby-keyword">if</span> <span class="ruby-identifier">paths</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">paths</span>.<span class="ruby-identifier">empty?</span>&#x000A;  <span class="ruby-ivar">@goOn</span>.<span class="ruby-identifier">value</span> = <span class="ruby-string">'1'</span>&#x000A;  <span class="ruby-keyword">nil</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-text2'>
                <a name='method-i-text2'></a>
                <div class='synopsis'>
                  <span class='name'>text2</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-text2-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-text2-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1319</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">text2</span>(  )&#x000A;  <span class="ruby-identifier">txt</span> = <span class="ruby-constant">TkText</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@frame</span>)&#x000A;  <span class="ruby-identifier">tagSel</span> = <span class="ruby-constant">TkTextTagSel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">txt</span>)&#x000A;  <span class="ruby-identifier">txt</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-string">'Control-Key-a'</span>) {&#x000A;    <span class="ruby-comment"># From: &quot;Using Control-a to select all text in a text widget : TCL&quot;, http://objectmix.com/tcl/35276-using-control-select-all-text-text-widget.html</span>&#x000A;    <span class="ruby-identifier">tagSel</span>.<span class="ruby-identifier">add</span>(<span class="ruby-string">'0.0'</span>, <span class="ruby-value">:end</span>)&#x000A;    <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">raise</span> <span class="ruby-constant">TkCallbackBreak</span>&#x000A;  }&#x000A;  <span class="ruby-identifier">txt</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-tks_result_to_ary'>
                <a name='method-i-tks_result_to_ary'></a>
                <div class='synopsis'>
                  <span class='name'>tks_result_to_ary</span>
                  <span class='arguments'>( filesListStr )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-tks_result_to_ary-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-tks_result_to_ary-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1393</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">tks_result_to_ary</span>( <span class="ruby-identifier">filesListStr</span> )&#x000A;  <span class="ruby-identifier">paths</span> = []&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">filesListStr</span>[<span class="ruby-value">0</span>,<span class="ruby-value">1</span>]<span class="ruby-operator">==</span><span class="ruby-string">'{'</span>&#x000A;    <span class="ruby-identifier">filesListStr</span>.<span class="ruby-identifier">scan</span>( <span class="ruby-regexp">/ \{   ( [^\}]+ )   \} /</span>) {&#x000A;      <span class="ruby-identifier">paths</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">$1</span>&#x000A;    }&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-identifier">paths</span> = <span class="ruby-identifier">filesListStr</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">' '</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  &#x000A;  <span class="ruby-identifier">paths</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-use_entry'>
                <a name='method-i-use_entry'></a>
                <div class='synopsis'>
                  <span class='name'>use_entry</span>
                  <span class='arguments'>( str )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-use_entry-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-use_entry-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1236</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">use_entry</span>( <span class="ruby-identifier">str</span> )&#x000A;  <span class="ruby-identifier">str</span> = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">'\'</span>, <span class="ruby-string">'/'</span>).<span class="ruby-identifier">chomp</span>(<span class="ruby-string">'/'</span>)&#x000A;  <span class="ruby-identifier">validate_and_set_path</span>( <span class="ruby-identifier">str</span> )&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-validate_and_leave'>
                <a name='method-i-validate_and_leave'></a>
                <div class='synopsis'>
                  <span class='name'>validate_and_leave</span>
                  <span class='arguments'>( )</span>
                </div>
                <div class='description'>
                  
                  <p>For <a href="FileAndDirChooser.html">FileAndDirChooser</a>, @validate is
                  simply true or false. If user presses "Cancel" or the close button ('X') in
                  the upper right, this is detected and user is informed by a message box.
                  Otherwise, all chosen paths already have been checked "inline", hence no
                  further validation is neccessary.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-validate_and_leave-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-validate_and_leave-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 988</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">validate_and_leave</span>(  )&#x000A;  <span class="ruby-comment"># path(s) is/are not valid.</span>&#x000A;  <span class="ruby-comment"># TODO: Missleading method name; better(?): handle_invalid_path</span>&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@validate</span>&#x000A;    <span class="ruby-comment"># Retry or completly exit the application</span>&#x000A;    <span class="ruby-identifier">ans</span> =  <span class="ruby-constant">Tk</span>.<span class="ruby-identifier">messageBox</span>(<span class="ruby-value">:icon=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:warning</span>, <span class="ruby-value">:type=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">:retrycancel</span>,&#x000A;      <span class="ruby-value">:title=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">'Message'</span>,&#x000A;      <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;INVALID ANSWER\n\nCANCEL will completely EXIT the application!&quot;</span>&#x000A;      <span class="ruby-comment">## :detail=&gt;&quot;blablabla\n&quot;*50</span>&#x000A;    )&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ans</span> <span class="ruby-operator">==</span> <span class="ruby-string">'cancel'</span>&#x000A;      <span class="ruby-constant">Tk</span>.<span class="ruby-identifier">exit</span>&#x000A;      <span class="ruby-identifier">exit</span> <span class="ruby-comment"># Todo: ntig?</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-identifier">set_paths</span>(<span class="ruby-keyword">nil</span>) <span class="ruby-comment"># uses the invalid path</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-validate_and_set_path'>
                <a name='method-i-validate_and_set_path'></a>
                <div class='synopsis'>
                  <span class='name'>validate_and_set_path</span>
                  <span class='arguments'>( str )</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-validate_and_set_path-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-validate_and_set_path-source'><span class="ruby-comment"># File lib/tkxxs/tkxxs_classes.rb, line 1241</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">validate_and_set_path</span>( <span class="ruby-identifier">str</span> )&#x000A;  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@mode</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:choosedir</span>&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">str</span>)&#x000A;      <span class="ruby-identifier">set_paths</span>(<span class="ruby-identifier">str</span>)&#x000A;    <span class="ruby-keyword">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">str</span>)&#x000A;      <span class="ruby-identifier">set_paths</span>( <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">str</span>) )&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-ivar">@txt</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">'0.0'</span>, <span class="ruby-value">:end</span>, <span class="ruby-node">%Q&lt;&quot;#{ str }&quot; is no &gt;</span> <span class="ruby-operator">+</span>&#x000A;        <span class="ruby-string">&quot;valid directory, please choose a valid one!&quot;</span>)&#x000A;      <span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">focus</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:openfiles</span>, <span class="ruby-value">:openfile</span>&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">str</span>)&#x000A;      <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:openfile</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">set_paths</span>(<span class="ruby-identifier">str</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">set_paths</span>([<span class="ruby-identifier">str</span>])&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-ivar">@txt</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">'0.0'</span>, <span class="ruby-value">:end</span>, <span class="ruby-node">%Q&lt;&quot;#{ str }&quot; is no &gt;</span> <span class="ruby-operator">+</span>&#x000A;        <span class="ruby-string">&quot;valid file, please choose a valid one!&quot;</span>)&#x000A;      <span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">focus</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">when</span> <span class="ruby-value">:savefile</span>&#x000A;    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@validate</span>&#x000A;      <span class="ruby-identifier">dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">str</span>)&#x000A;      <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">dir</span>)&#x000A;        <span class="ruby-identifier">set_paths</span>(<span class="ruby-identifier">str</span>)&#x000A;      <span class="ruby-keyword">else</span>&#x000A;        <span class="ruby-ivar">@txt</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-string">'0.0'</span>, <span class="ruby-value">:end</span>, <span class="ruby-node">%Q&lt;&quot;#{ dir }&quot; is no &gt;</span> <span class="ruby-operator">+</span>&#x000A;          <span class="ruby-string">&quot;valid directory, please choose a valid one!&quot;</span>)&#x000A;        <span class="ruby-ivar">@entry</span>.<span class="ruby-identifier">focus</span>&#x000A;      <span class="ruby-keyword">end</span>&#x000A;    <span class="ruby-keyword">else</span>&#x000A;      <span class="ruby-comment"># if file does not exist: create file and dir</span>&#x000A;      <span class="ruby-identifier">set_paths</span>(<span class="ruby-identifier">str</span>)&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">else</span>; <span class="ruby-identifier">raise</span>&#x000A;  <span class="ruby-keyword">end</span> <span class="ruby-comment"># case</span>&#x000A;  <span class="ruby-keyword">nil</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
